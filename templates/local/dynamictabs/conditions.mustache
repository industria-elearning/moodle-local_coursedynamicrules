{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_coursedynamicrules/local/dynamictabs/conditions

    Template for rule conditions tab, analogous to reportbuilder audiences.

    Context example:
    {
        "hasinstances": 1,
        "instances": [{
            "id": 1,
            "header": "Condition title",
            "description": "Condition description",
            "deleteurl": "/local/coursedynamicrules/deletecondition.php?id=1"
        }],
        "sidebarmenucards": [{
            "menucards": [{
                "name": "General",
                "items": [{
                    "name": "Pass grade",
                    "identifier": "local_coursedynamicrules:passgrade",
                    "action": "/local/coursedynamicrules/conditions.php?type=passgrade"
                }]
            }]
        }]
    }
}}
<h2 class="sr-only">{{#str}} conditions, local_coursedynamicrules {{/str}}</h2>
<div class="conditions-wrapper d-flex flex-column flex-lg-row">
    <div id="conditions-menu">
        {{> core_reportbuilder/local/sidebar-menu/area}}
    </div>
    <div id="conditions-container" class="d-flex flex-column flex-fill" data-region="local_coursedynamicrules/conditions">
        <div class="justify-content-center {{#hasinstances}}hidden{{/hasinstances}}" data-region="local_coursedynamicrules/no-instances-message">
            <div class="alert alert-info mb-0">{{#str}} noconditions, local_coursedynamicrules {{/str}}</div>
        </div>
        {{#instances}}
            {{> local_coursedynamicrules/local/condition/form}}
        {{/instances}}
    </div>
</div>

{{#js}}
    require(['local_coursedynamicrules/conditions'], function(module) {
        module.init({
            ruleid: {{ruleid}},
            courseid: {{courseid}},
            contextid: {{contextid}}
        });
    });
{{/js}}
